---
import Config  from '../../config/config.js'

const HASH  = '#' 

let tsize   = Config.key ('site.sizes.big')
let csize   = Config.key ('site.sizes.medium')
let tweight = Config.key ('site.weights.bold')
let cweight = Config.key ('site.weights.medium')
let color   = Config.key ('site.colors.texts.primary')

let { key     } = Astro.props
let { title   } = Astro.props
let { caption } = Astro.props
let { icon    } = Astro.props

let ref = key && (HASH + key)
---
 {
   key && (
     <a class="link" href={ref}>
       <div class="section" id={key}>
         <div class="icon"><i class={icon}></i></div>
         <div class="content">
           <div class="title">{title}</div>
           <p class="caption">{caption}</p>
         </div>
       </div>
     </a>
   )
 }
 
 {
   !key && (
     <div class="section">
       <div class="icon"><i class={icon}></i></div>
       <div class="content">
         <h2 class="title">{title}</h2>
         <p class="caption">{caption}</p>
       </div>
     </div>
   )
}

<style define:vars={{tsize, csize, tweight, cweight, color}}>
  .section {
    margin : 0px auto;
    color  : var(--color);
  }
  .section .link {
    color  : var(--color);
  }
  .section .title:hover {
    text-decoration       : underline 1px dotted #C1CCD6;
    text-underline-offset : 10px;
  }
  .section .icon {
    display     : inline-block;
    margin      : 0 20px;
    font-size   : 64px;
    font-weight : var(--tweight);
    line-height : 1.5;
  }
  .section .content {
    display     : inline-block;
  }
  .section .content .title {
    font-size   : var(--tsize);
    font-weight : var(--tweight);
    line-height : 1.5;
  }
  .section .content .caption {
    margin-top  : -15px !important;
    font-size   : var(--csize);
    font-weight : var(--cweight);
    line-height : 1.5;
  }
</style>